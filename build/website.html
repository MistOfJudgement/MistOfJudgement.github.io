<!DOCTYPE html>
<html lang="en">
	
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>The Personal Project Page</title>
		<script>
			// Cookie helper functions
			function setCookie(name, value, days = 365) {
			const expires = new Date(Date.now() + days * 864e5).toUTCString();
			document.cookie = name + '=' + encodeURIComponent(value) + '; expires=' + expires + '; path=/';
			}
			
			function getCookie(name) {
			return document.cookie.split('; ').reduce((r, v) => {
			const parts = v.split('=');
			return parts[0] === name ? decodeURIComponent(parts[1]) : r;
			}, '');
			}
			
			// Apply saved theme immediately to prevent flicker
			const savedTheme = getCookie('preferred-theme');
			if (savedTheme) {
			if (savedTheme === 'none') {
			// No CSS - we'll disable it after the link loads
			document.write('<link id="main-stylesheet" rel="stylesheet" href="./static/clean.css" disabled />');
			} else {
			document.write('<link id="main-stylesheet" rel="stylesheet" href="' + savedTheme + '" />');
			}
			} else {
			document.write('<link id="main-stylesheet" rel="stylesheet" href="./static/clean.css" />');
			}
		</script>
	</head>
	
	<body>
		<header>
			<h1>The Personal Project Page</h1>
		</header>
		<nav>
			<ul>
				<li><a href="index.html">Home</a></li>
				<li><span>Projects</span>
					<ul>
						<li><a href="website.html">Website</a></li>
						<li><a href="analog_frequency_detector.html">Analog Frequency Detector</a></li>
						<li><a href="bad_apple_celeste.html">Bad Apple Celeste</a></li>
						<li><a href="bad_apple_terminal.html">Bad Apple Terminal</a></li>
					</ul>
				</li>
				<li><a href="about.html">About</a></li>
				<li><a href="contact.html">Contact</a></li>
			</ul>
			<div class="theme-selector">
				<label for="stylesheet-dropdown">Theme:</label>
				<select id="stylesheet-dropdown" onchange="switchStylesheet()">
					<option value="./static/clean.css">Clean (Original)</option>
					<option value="./static/modern.css">Modern Dark</option>
					<option value="">No CSS</option>
				</select>
			</div>
		</nav>
		<main>
			
			<style>
				.css-isolated {
				/* This section will not be affected by global CSS toggle */
				}
			</style>
			
			<h2>Problem & Purpose</h2>
			<p>I started making this site as one of my "weekly projects" during my summer of 2025, although the consistency didn't last too long. Most of my creations are things I make for the intrinsic joy of programming and I really only share it with the friends that would understand the effort put in. A personal website can serve as a public space I can leave my projects to share more broadly. I can also use it as essentially a blog for each of the projects.</p>
			
			<h2>Technical Decisions</h2>
			<p>With the product goal being a project showcase, I also had a couple of technical goals that reflect some of my web development ideals.</p>
			<h4>Progressive Enhancement</h4>
			<p>I would not call myself a front-end dev or designer simply because I don't care about how things look that much. The content should be able to stand alone. Everything should look good without CSS, and you can see that with the button at the bottom.</p>
			<h4>Lightweight</h4>
			<p>Pages should load fast. This project doesn't use any existing frameworks like react so the only JavaScript being pulled in is code that actually does something.</p>
			
			<h2>Architecture</h2>
			<p>Each component that I included is typed as a Blueprint, equivalent to a react functional component except that it just returns a string.</p>
			<code>const Component: Blueprint&lt;ComponentProps&gt; = (props) =&gt; `Content`</code>
			
			<p>Toggling the CSS is fairly simple, as its just a matter of disabling the stylesheet</p>
			<pre><code>
const stylesheets = Array.from(document.styleSheets);
stylesheets.forEach(sheet => {
    if (sheet.href && sheet.href.includes('clean.css')) {
        sheet.disabled = true;
    }
});
			</code></pre>
			
			<h2>Formatter</h2>
			<p>This one is bespoke for no reason. here's how it works</p>
			
			<h2>Tester</h2>
			<p>I haven't been keeping up with tests because this is mostly ui work but
			the formatter has unit tests, and this test engine is bespoke too.</p>
			
			<h2>Other Features</h2>
			<h3>Iframes</h3>
			<p>You saw on the home page you could see the same page nested inside itself.
				This is done with an iframe component because I thought it was cool.
				It only loops like once or twice before the browser stops. There is a way
				for me to subvert that but that violates the goal to keep the site lightweight.
			</p>
			
			<h2>Final Thoughts</h2>
			<p>I consider this a persistent project that I can adapt as I work on other
				ideas and want to showcase them. Having everything in the browser means I get
				to use any form of interactivity I'm willing to implement. Everything on client-side
				means I can push and forget. Everything in one place means I have a one-stop shop
				to show off what I do. I definitely spent way more time on this personal page
			than what one should spend on it but overengineering is what I do best</p>
			
		</main>
		
		<footer>
			<p>This website is still in development. Thanks for stopping by!</p>
			<script>
				function updateIframeTheme(selectedTheme) {
				// Update all iframes on the page to match the main page theme
				const iframes = document.querySelectorAll('iframe');
				iframes.forEach(iframe => {
				try {
				// Check if iframe is loaded and accessible (same origin)
				const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
				const iframeStylesheet = iframeDoc.getElementById('main-stylesheet');
				
				if (iframeStylesheet) {
				if (selectedTheme === 'none') {
				// No CSS option - disable stylesheet
				iframeStylesheet.disabled = true;
				} else {
				// Enable stylesheet and set the href
				iframeStylesheet.disabled = false;
				iframeStylesheet.href = selectedTheme;
				}
				}
				} catch (e) {
				// Iframe might not be loaded yet or cross-origin, ignore
				console.log('Could not access iframe stylesheet:', e.message);
				}
				});
				}
				
				function switchStylesheet() {
				const dropdown = document.getElementById('stylesheet-dropdown');
				const stylesheet = document.getElementById('main-stylesheet');
				const selectedTheme = dropdown.value;
				
				if (selectedTheme === 'none') {
				// No CSS option - disable stylesheet
				stylesheet.disabled = true;
				} else {
				// Enable stylesheet and set the href
				stylesheet.disabled = false;
				stylesheet.href = selectedTheme;
				}
				
				// Update iframes to match
				updateIframeTheme(selectedTheme);
				
				// Save user's preference in cookies
				setCookie('preferred-theme', selectedTheme);
				}
				
				// Set initial dropdown value on page load
				document.addEventListener('DOMContentLoaded', function() {
				const dropdown = document.getElementById('stylesheet-dropdown');
				dropdown.addEventListener('change', switchStylesheet);
				
				// Set dropdown to match the already-applied theme
				const savedTheme = getCookie('preferred-theme');
				if (savedTheme) {
				dropdown.value = savedTheme;
				}
				
				// Update iframes after a short delay to ensure they're loaded
				setTimeout(() => {
				if (savedTheme) {
				updateIframeTheme(savedTheme);
				}
				}, 500);
				});
			</script>
		</footer>
		
	</body>
	
</html>